!function(){"use strict";var e={n:function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},d:function(t,n){for(var s in n)e.o(n,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:n[s]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t=window.wp.element,n=window.wp.components,s=window.wp.notices,a=window.wp.i18n,r=window.wp.data,l=window.wp.apiFetch,o=e.n(l);const c=["F","TM"],u=[1,2,3,4],p=(e,t)=>"master"===e?(0,a.__)("Master's course","wp-ftek-course-pages"):t.length>0?t.sort().map((t=>t+e||"")).join(" "):(0,a._x)("Year","grade","wp-ftek-course-pages"),d=e=>(0,t.createElement)(t.Fragment,null,(0,a.__)("The following error has occurred:","wp-ftek-course-pages"),(0,t.createElement)("pre",{className:"error"},JSON.stringify(e,null,4))),i=()=>{const e=(0,r.useSelect)((e=>e(s.store).getNotices())).filter((e=>"snackbar"===e.type)),{removeNotice:a}=(0,r.useDispatch)(s.store);return(0,t.createElement)(n.SnackbarList,{notices:e,onRemove:a})},m=()=>(0,t.createElement)(n.Placeholder,null,(0,t.createElement)("div",{className:"placeholder-center"},(0,t.createElement)(n.Spinner,null))),g=()=>{const[e,l]=(0,t.useState)(null),[i,g]=(0,t.useState)(null);(0,t.useEffect)((()=>{o()({path:"/wp-ftek-course-pages/v1/settings"}).then((e=>{g(e)})).catch((e=>l(e)))}),[]);const{createNotice:_}=(0,r.useDispatch)(s.store);return e?(0,t.createElement)(d,{error:e}):i?(0,t.createElement)(t.Fragment,null,(0,t.createElement)("h2",null,(0,a.__)("Dates","wp-ftek-course-pages")),(0,t.createElement)("p",null,(0,a.__)("Enter the final date of each study period.","wp-ftek-course-pages")),u.map((e=>(0,t.createElement)("div",{key:e,className:"last-day"},(0,t.createElement)("span",null,(0,a.__)("Last day of study period %$1s","wp-ftek-course-pages").replace("%$1s",e.toString())),(0,t.createElement)(n.SelectControl,{label:(0,a.__)("Month","wp-ftek-course-pages"),value:i.study_periods_end[e-1].month,options:[...Array(12).keys()].map((e=>({label:`${e+1}`,value:e+1}))),onChange:t=>{const n=[...i.study_periods_end];n[e-1]={...n[e-1],month:Number(t)},g({...i,study_periods_end:n})}}),(0,t.createElement)(n.SelectControl,{label:(0,a.__)("Day","wp-ftek-course-pages"),value:i.study_periods_end[e-1].day,options:[...Array(31).keys()].map((e=>({label:`${e+1}`,value:e+1}))),onChange:t=>{const n=[...i.study_periods_end];n[e-1]={...n[e-1],day:Number(t)},g({...i,study_periods_end:n})}})))),(0,t.createElement)("h2",null,(0,a.__)("Schedules","wp-ftek-course-pages")),(0,t.createElement)("p",null,(0,a.__)("Enter the URL to the schedule for each class. The schedule should begin at the current week and end one year later.","wp-ftek-course-pages")),["1","2","3"].map(((e,s)=>{const r=Number(e)-1;return(0,t.createElement)(t.Fragment,{key:s},(0,t.createElement)("h3",null,(0,a._x)("Year %$1s","grade","wp-ftek-course-pages").replace("%$1s",e)),c.map(((s,l)=>(0,t.createElement)(n.TextControl,{key:l,label:(0,a.__)("URL to schedule for %$1s","wp-ftek-course-pages").replace("%$1s",p(e,[s])),value:i.schedules[r][s],onChange:e=>{const t=[...i.schedules];t[r]={...t[r],[s]:e},g({...i,schedules:t})}}))))})),(0,t.createElement)("h2",null,(0,a.__)("Miscellaneous settings","wp-ftek-course-pages")),(0,t.createElement)(n.TextControl,{label:(0,a.__)("Course page slug","wp-ftek-course-pages"),value:i.slug,onChange:e=>g({...i,slug:e})}),(0,t.createElement)(n.Button,{onClick:()=>{o()({path:"/wp-ftek-course-pages/v1/settings",method:"POST",data:i}).then((()=>_("success",(0,a.__)("Settings saved.","wp-ftek-course-pages"),{type:"snackbar"}))).catch((e=>_("error",(null==e?void 0:e.message)||JSON.stringify(e),{type:"snackbar"})))},isPrimary:!0},(0,a.__)("Save changes","wp-ftek-course-pages"))):(0,t.createElement)(m,null)};var _=()=>(0,t.createElement)("div",{className:"wp-ftek-course-pages-settings"},(0,t.createElement)("h1",null,(0,a.__)("Course Pages Settings","wp-ftek-course-pages")),(0,t.createElement)(g,null),(0,t.createElement)(i,null));document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("wp-ftek-course-pages-settings");e&&(0,t.render)((0,t.createElement)(_,null),e)}))}();