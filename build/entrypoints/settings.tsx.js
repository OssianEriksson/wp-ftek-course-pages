!function(){"use strict";var e={n:function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},d:function(t,n){for(var s in n)e.o(n,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:n[s]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t=window.wp.element,n=window.wp.components,s=window.wp.notices,a=window.wp.i18n,r=window.wp.data,l=window.wp.apiFetch,o=e.n(l);const c=[1,2,3,4],u=e=>(0,t.createElement)(t.Fragment,null,(0,a.__)("The following error has occurred:","wp-ftek-course-pages"),(0,t.createElement)("pre",{className:"error"},JSON.stringify(e,null,4))),p=()=>{const e=(0,r.useSelect)((e=>e(s.store).getNotices())).filter((e=>"snackbar"===e.type)),{removeNotice:a}=(0,r.useDispatch)(s.store);return(0,t.createElement)(n.SnackbarList,{notices:e,onRemove:a})},i=()=>(0,t.createElement)(n.Placeholder,null,(0,t.createElement)("div",{className:"placeholder-center"},(0,t.createElement)(n.Spinner,null))),d=()=>{const[e,l]=(0,t.useState)(null),[p,d]=(0,t.useState)(null);(0,t.useEffect)((()=>{o()({path:"/wp-ftek-course-pages/v1/settings"}).then((e=>{d(e)})).catch((e=>l(e)))}),[]);const{createNotice:m}=(0,r.useDispatch)(s.store);return e?(0,t.createElement)(u,{error:e}):p?(0,t.createElement)(t.Fragment,null,(0,t.createElement)("h2",null,(0,a.__)("Dates","wp-ftek-course-pages")),(0,t.createElement)("p",null,(0,a.__)("Enter the final date of each study period.","wp-ftek-course-pages")),c.map((e=>(0,t.createElement)("div",{key:e,className:"last-day"},(0,t.createElement)("span",null,(0,a.__)("Last day of study period %$1s","wp-ftek-course-pages").replace("%$1s",e.toString())),(0,t.createElement)(n.SelectControl,{label:(0,a.__)("Month","wp-ftek-course-pages"),value:p.study_periods_end[e-1].month,options:[...Array(12).keys()].map((e=>({label:`${e+1}`,value:e+1}))),onChange:t=>{const n=[...p.study_periods_end];n[e-1]={...n[e-1],month:Number(t)},d({...p,study_periods_end:n})}}),(0,t.createElement)(n.SelectControl,{label:(0,a.__)("Day","wp-ftek-course-pages"),value:p.study_periods_end[e-1].day,options:[...Array(31).keys()].map((e=>({label:`${e+1}`,value:e+1}))),onChange:t=>{const n=[...p.study_periods_end];n[e-1]={...n[e-1],day:Number(t)},d({...p,study_periods_end:n})}})))),(0,t.createElement)("h2",null,(0,a.__)("Miscellaneous settings","wp-ftek-course-pages")),(0,t.createElement)(n.TextControl,{label:(0,a.__)("Course page slug","wp-ftek-course-pages"),value:p.slug,onChange:e=>d({...p,slug:e})}),(0,t.createElement)(n.Button,{onClick:()=>{o()({path:"/wp-ftek-course-pages/v1/settings",method:"POST",data:p}).then((()=>m("success",(0,a.__)("Settings saved.","wp-ftek-course-pages"),{type:"snackbar"}))).catch((e=>m("error",(null==e?void 0:e.message)||JSON.stringify(e),{type:"snackbar"})))},isPrimary:!0},(0,a.__)("Save changes","wp-ftek-course-pages"))):(0,t.createElement)(i,null)};var m=()=>(0,t.createElement)("div",{className:"wp-ftek-course-pages-settings"},(0,t.createElement)("h1",null,(0,a.__)("Course Pages Settings","wp-ftek-course-pages")),(0,t.createElement)(d,null),(0,t.createElement)(p,null));document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("wp-ftek-course-pages-settings");e&&(0,t.render)((0,t.createElement)(m,null),e)}))}();