!function(){"use strict";var e,t={627:function(){var e=window.wp.element,t=window.wp.blocks,r=window.wp.blockEditor,n=window.wp.coreData,a=window.wp.data,s=window.wp.components,l=window.wp.primitives,o=(0,e.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(l.Path,{d:"M20 5h-5.7c0-1.3-1-2.3-2.3-2.3S9.7 3.7 9.7 5H4v2h1.5v.3l1.7 11.1c.1 1 1 1.7 2 1.7h5.7c1 0 1.8-.7 2-1.7l1.7-11.1V7H20V5zm-3.2 2l-1.7 11.1c0 .1-.1.2-.3.2H9.1c-.1 0-.3-.1-.3-.2L7.2 7h9.6z"})),u=JSON.parse('{"apiVersion":2,"name":"wp-ftek-course-pages/course-info","title":"Course info","category":"widgets","textdomain":"wp-ftek-course-pages","attributes":{"code":{"type":"string","default":""},"credits":{"type":"number","default":0},"homepage_url":{"type":"string","default":""},"info_url":{"type":"string","default":""},"survey_url":{"type":"string","default":""},"student_representatives":{"type":"array","default":[]},"study_perionds":{"type":"array","default":[]},"year":{"enum":["","1","2","3","master"],"default":""},"programs":{"type":"array","default":[]},"participant_count":{"type":"number","default":0}},"style":"file:style-editor.css","editorScript":"file:editor.js"}'),c=window.wp.i18n;const i=["F","TM"],p=[1,2,3,4],m=["1","2","3","master"],d=(0,e.createElement)("svg",null,(0,e.createElement)("image",{style:{width:"100%"},xlinkHref:wpFtekCoursePages.iconUrl}));function f(t){let{meta:r}=t;const n=[{text:(0,c.__)("Course homepage","wp-ftek-course-pages"),url:r.homepage_url},{text:(0,c.__)("General info","wp-ftek-course-pages"),url:r.info_url},{text:(0,c.__)("Latest survey","wp-ftek-course-pages"),url:r.survey_url}].filter((e=>e.url)),a=r.student_representatives.filter((e=>e.name||e.cid));return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h2",{className:"course-banner"},`${r.code||(0,c.__)("Course Code","wp-ftek-course-pages")} | ${r.credits||0} ${(0,c._x)("hec","higher education credits","wp-ftek-course-pages")} | ${"master"===r.year?(0,c.__)("Master's course","wp-ftek-course-pages"):r.programs.length>0?r.programs.sort().map((e=>e+r.year||"")).join(" "):(0,c.__)("Program","wp-ftek-course-pages")} | ${r.study_perionds.length>0?r.study_perionds.sort().map((e=>[[e]])).reduce(((e,t)=>{const r=e[e.length-1];return t[0][0]-r[r.length-1]==1?r.push(t[0][0]):e.push(t[0]),e})).map((e=>(0,c._x)("SP%$1s","study period","wp-ftek-course-pages").replace("%$1s",e.length>1?e[0]+"-"+e[e.length-1]:e[0].toString()))).join(" "):(0,c._x)("SP","study period","wp-ftek-course-pages")}`),(0,e.createElement)("div",{className:"course-layout"},(0,e.createElement)("div",{className:"course-content"},"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."),(0,e.createElement)("div",{className:"course-sidebar"},n.length>0&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h3",null,(0,c.__)("Links","wp-ftek-course-pages")),(0,e.createElement)("ul",null,n.map(((t,r)=>(0,e.createElement)("li",{key:r},(0,e.createElement)("a",{target:"_blank",rel:"noopener noreferrer",href:t.url},t.text)))))),a.length>0&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h3",null,(0,c.__)("Student Representatives","wp-ftek-course-pages")),(0,e.createElement)("ul",null,a.map(((t,r)=>{const n=t.name||t.cid;return(0,e.createElement)("li",{key:r},t.cid?(0,e.createElement)("a",{href:`mailto:${t.cid}@student.chalmers.se`},n):n)})))),(0,e.createElement)("h3",null,(0,c.__)("Is Anything Missing?","wp-ftek-course-pages")),(0,e.createElement)("span",{dangerouslySetInnerHTML:{__html:(0,c.__)("Contact <a %$1s>SNF</a>.","wp-ftek-course-pages").replace("%$1s",'href="mailto:snf@ftek.se"')}}))))}function g(t){let{attributes:l,setAttributes:u,panelIcon:d}=t;const[g,_]=(0,e.useState)(null),[w,v]=(0,e.useState)(null),h=(0,a.useSelect)((e=>e("core/editor").getCurrentPostType()),[]),[k,E]=(0,n.useEntityProp)("postType",h,"meta"),[y,b]="wp_ftek_course_pages_meta"in k?[k.wp_ftek_course_pages_meta,e=>{u(e),E({...k,wp_ftek_course_pages_meta:e})}]:[l,u];return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(r.InspectorControls,null,(0,e.createElement)(s.PanelBody,{title:(0,c.__)("Course Page","wp-ftek-course-pages"),initialOpen:!0,icon:d},(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.TextControl,{label:(0,c.__)("Course code","wp-ftek-course-pages"),value:y.code,onChange:e=>b({...y,code:e})})),(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.TextControl,{label:(0,c.__)("Credits","wp-ftek-course-pages"),value:null!==g?g:y.credits,onChange:e=>{_(e);const t=Number(e);Number.isFinite(t)&&t>=0&&b({...y,credits:t})}})),(0,e.createElement)("hr",null),(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.TextControl,{label:(0,c.__)("Course homepage URL","wp-ftek-course-pages"),value:y.homepage_url,onChange:e=>b({...y,homepage_url:e})})),(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.TextControl,{label:(0,c.__)("Course info URL","wp-ftek-course-pages"),value:y.info_url,onChange:e=>b({...y,info_url:e})})),(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.TextControl,{label:(0,c.__)("Latest course survey URL","wp-ftek-course-pages"),value:y.survey_url,onChange:e=>b({...y,survey_url:e})})),(0,e.createElement)("hr",null),(0,e.createElement)(s.PanelRow,null,(0,e.createElement)("div",{className:"wp-block-wp-ftek-course-pages-course-info-inspector list-selector"},(0,e.createElement)("div",{className:"panel-label"},(0,c.__)("Student representatives","wp-ftek-course-pages")),y.student_representatives.map(((t,r)=>(0,e.createElement)("div",{key:r,className:"list-selector-item"},(0,e.createElement)(s.Button,{icon:o,onClick:()=>{const e=[...y.student_representatives];e.splice(r,1),b({...y,student_representatives:e})}}),(0,e.createElement)("div",{className:"stacked-inputs"},(0,e.createElement)(s.TextControl,{label:(0,c.__)("Full Name","wp-ftek-course-pages"),value:t.name,onChange:e=>{const n=[...y.student_representatives];n[r]={...t,name:e},b({...y,student_representatives:n})}}),(0,e.createElement)(s.TextControl,{label:(0,c._x)("CID","Chalmers ID","wp-ftek-course-pages"),value:t.cid,onChange:e=>{const n=[...y.student_representatives];n[r]={...t,cid:e},b({...y,student_representatives:n})}}))))),(0,e.createElement)(s.Button,{onClick:()=>b({...y,student_representatives:[...y.student_representatives,{name:"",cid:""}]}),variant:"secondary"},(0,c._x)("Add","student representative","wp-ftek-course-pages")))),(0,e.createElement)("hr",null),(0,e.createElement)(s.PanelRow,null,(0,e.createElement)("div",{className:"wp-block-wp-ftek-course-pages-course-info-inspector"},(0,e.createElement)("div",{className:"panel-label"},(0,c.__)("Study perionds","wp-ftek-course-pages")),p.map(((t,r)=>(0,e.createElement)(s.CheckboxControl,{key:r,label:(0,c._x)("SP%$1s","study period","wp-ftek-course-pages").replace("%$1s",t.toString()),checked:y.study_perionds.includes(t),onChange:()=>{const e=[...y.study_perionds],r=e.indexOf(t);r>=0?e.splice(r,1):e.push(t),b({...y,study_perionds:e})}}))))),(0,e.createElement)("hr",null),(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.RadioControl,{label:(0,c._x)("Year","grade","wp-ftek-course-pages"),selected:y.year,options:m.flatMap((e=>{let t;if(Number.isFinite(Number(e)))t=(0,c._x)("Year %$1s","grade","wp-ftek-course-pages").replace("%$1s",e);else{if("master"!=e)return[];t=(0,c.__)("Master's course","wp-ftek-course-pages")}return{label:t,value:e}})),onChange:e=>b({...y,year:e})})),(0,e.createElement)("hr",null),(0,e.createElement)(s.PanelRow,null,(0,e.createElement)("div",{className:"wp-block-wp-ftek-course-pages-course-info-inspector"},(0,e.createElement)("div",{className:"panel-label"},(0,c.__)("Progammes","wp-ftek-course-pages")),i.map(((t,r)=>(0,e.createElement)(s.CheckboxControl,{key:r,label:t,checked:y.programs.includes(t),onChange:()=>{const e=[...y.programs],r=e.indexOf(t);r>=0?e.splice(r,1):e.push(t),b({...y,programs:e})}}))))),(0,e.createElement)("hr",null),(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.TextControl,{label:(0,c.__)("Approximate number of participants","wp-ftek-course-pages"),help:(0,c.__)("Used for sorting courses","wp-ftek-course-pages"),value:null!==w?w:y.participant_count,onChange:e=>{v(e);const t=Number(e);Number.isFinite(t)&&t>=0&&b({...y,participant_count:t})}})))),(0,e.createElement)(f,{meta:y}))}(0,t.registerBlockType)(u,{edit:function(t){let{attributes:n,setAttributes:a}=t;return(0,e.createElement)("div",(0,r.useBlockProps)(),(0,e.createElement)(g,{attributes:n,setAttributes:a,panelIcon:d}))},save:function(t){let{attributes:n}=t;return(0,e.createElement)("div",r.useBlockProps.save(),(0,e.createElement)(f,{meta:n}))},icon:d}),console.debug((0,c.__)("Course Code","wp-ftek-course-pages"))}},r={};function n(e){var a=r[e];if(void 0!==a)return a.exports;var s=r[e]={exports:{}};return t[e](s,s.exports,n),s.exports}n.m=t,e=[],n.O=function(t,r,a,s){if(!r){var l=1/0;for(i=0;i<e.length;i++){r=e[i][0],a=e[i][1],s=e[i][2];for(var o=!0,u=0;u<r.length;u++)(!1&s||l>=s)&&Object.keys(n.O).every((function(e){return n.O[e](r[u])}))?r.splice(u--,1):(o=!1,s<l&&(l=s));if(o){e.splice(i--,1);var c=a();void 0!==c&&(t=c)}}return t}s=s||0;for(var i=e.length;i>0&&e[i-1][2]>s;i--)e[i]=e[i-1];e[i]=[r,a,s]},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={883:0,359:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,s,l=r[0],o=r[1],u=r[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(u)var i=u(n)}for(t&&t(r);c<l.length;c++)s=l[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(i)},r=self.webpackChunkwp_drive_list=self.webpackChunkwp_drive_list||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var a=n.O(void 0,[359],(function(){return n(627)}));a=n.O(a)}();